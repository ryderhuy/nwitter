(this.webpackJsonpnwitter=this.webpackJsonpnwitter||[]).push([[0],{149:function(e,t,n){},217:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(29),r=n.n(s),i=n(32),o=n(42),l=n(6),u=n(25);var j=function(){return Object(l.jsx)("span",{children:"EditProfile"})},b=n(66);n(144),n(218),n(146);b.a.initializeApp({apiKey:"AIzaSyBipiTv1lThCOYOoscLLMDRR6Cnz8RqmzA",authDomain:"nwiter-cd17d.firebaseapp.com",databaseURL:"https://nwiter-cd17d-default-rtdb.firebaseio.com",projectId:"nwiter-cd17d",storageBucket:"nwiter-cd17d.appspot.com",messagingSenderId:"257800727565",appId:"1:257800727565:web:9b231f4d84debda88eb944"});var d=b.a.database(),h=b.a.storage(),O=b.a,p=b.a.auth(),f=function(){var e=Object(u.f)(),t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],s=n[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{onClick:function(){e.push("/")},children:"Home"}),Object(l.jsx)("button",{onClick:function(){p.signOut().then((function(){e.push("/")})).catch((function(e){s(e)}))},children:"Log Out"}),a]})},x=n(104),m=n(224),g=n(131),v=n(220),w=n(73),y=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),r=Object(i.a)(s,2),o=r[0],u=r[1],j={beforeUpload:function(e){return"application/haansofthwp"!==e.type&&g.b.error("".concat(e.name," is not a hwp file")),"application/haansofthwp"===e.type||v.a.LIST_IGNORE},onChange:function(e){a(e.fileList[0].originFileObj)}},b=function(e,t,n,c,a,s,r,i){O.database().ref("wpdb/"+e+"/"+t).set({FileDest:n,FileDestName:c,FileSrc:a,FileSrcName:s,HtmlResult:r,IsComplete:i})},f=Object(c.useState)(),y=Object(i.a)(f,2),S=y[0],I=y[1],k=Object(c.useState)(""),C=Object(i.a)(k,2),L=C[0],N=C[1];Object(c.useEffect)((function(){d.ref("wpdb/").on("value",(function(e){var t=e.val();I(Object.values(t[p.currentUser.uid]))}))}),[]);return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"upload-page",children:[Object(l.jsxs)("div",{className:"upload-area",children:[Object(l.jsx)(v.a,Object(x.a)(Object(x.a)({},j),{},{maxCount:1,children:Object(l.jsx)(w.a,{icon:Object(l.jsx)(m.a,{}),children:"Upload png only"})})),Object(l.jsx)(w.a,{onClick:function(){var e=h.ref("WP/"+n.name).put(n);u("Uploading...."),e.on("state_changed",(function(e){}),(function(e){console.log(e),u(e.message)}),(function(){h.ref("WP").child(n.name).getDownloadURL().then((function(e){u("Upload successfull!!!");var t=d.ref().push().key;b(p.currentUser.uid,t,"dest","dest name",e,n.name,"<b>aaa</b>",!0)}))}))},children:"Upload"}),Object(l.jsx)("span",{children:o})]}),Object(l.jsx)(w.a,{onClick:function(){d.ref("wpdb/").on("value",(function(e){var t=e.val();I(Object.values(t[p.currentUser.uid])),console.log(S)}))},children:"Show List URL"}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{dangerouslySetInnerHTML:{__html:L}}),Object(l.jsx)("ul",{children:S&&S.length>0?S.map((function(e){return Object(l.jsx)("li",{children:Object(l.jsx)("a",{onClick:function(){!function(e){N(e.HtmlResult)}(e)},children:e.FileSrcName})})})):null})]})})},S=n(74),I=n.n(S),k=n(103),C=n(225),L=n(226),N=n(227),F=n(228),U=n(221),P=n(223),R=(n(108),n(149),function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(""),r=Object(i.a)(s,2),o=r[0],u=r[1],j=Object(c.useState)(!0),b=Object(i.a)(j,2),d=b[0],h=b[1],f=Object(c.useState)(""),x=Object(i.a)(f,2),m=x[0],g=x[1],v=function(e){var t=e.target,n=t.name,c=t.value;"email"===n?a(c):"password"===n&&u(c)},y=function(){var e=Object(k.a)(I.a.mark((function e(t){var c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!d){e.next=7;break}return e.next=4,p.signInWithEmailAndPassword(n,o);case 4:c=e.sent,e.next=10;break;case 7:return e.next=9,p.createUserWithEmailAndPassword(n,o);case 9:c=e.sent;case 10:console.log(c),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),g(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(k.a)(I.a.mark((function e(t){var n,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===t?n=new O.auth.GoogleAuthProvider:"github"===t&&(n=new O.auth.GithubAuthProvider),e.next=3,p.signInWithPopup(n);case 3:c=e.sent,console.log(c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{className:"login-form",children:[Object(l.jsxs)(U.a,{onFinish:y,children:[Object(l.jsx)(U.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(l.jsx)(P.a,{name:"email",prefix:Object(l.jsx)(C.a,{className:"site-form-item-icon"}),placeholder:"Email",value:n,onChange:v})}),Object(l.jsx)(U.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(l.jsx)(P.a,{name:"password",prefix:Object(l.jsx)(L.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password",value:o,onChange:v})}),Object(l.jsxs)(U.a.Item,{children:[Object(l.jsx)(w.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:!1===d?"Create new account":"Log In"}),Object(l.jsx)("a",{onClick:function(){return h((function(e){return!e}))},className:"sign-up-link",children:d?"Sign up here":"Sign in here"})]})]}),Object(l.jsx)("span",{className:"text-error",children:m}),Object(l.jsx)("span",{children:"Or sign in with"}),Object(l.jsxs)("div",{className:"login-social",children:[Object(l.jsx)(w.a,{icon:Object(l.jsx)(N.a,{}),name:"google",onClick:function(){return S("google")},type:"primary",danger:!0,children:"Google"}),Object(l.jsx)(w.a,{icon:Object(l.jsx)(F.a,{}),name:"github",onClick:function(){return S("github")},children:"Github"})]})]})}),A=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("span",{children:"Home"})})},E=n(222),D=function(){var e=Object(u.f)(),t=function(){p.signOut().then((function(){e.push("/")})).catch((function(e){console.log(e)}))};return Object(l.jsxs)(E.a,{onClick:function(n){"/logout"===n.key?t():e.push(n.key)},style:{width:256},defaultSelectedKeys:["/"],mode:"inline",children:[Object(l.jsx)(E.a.Item,{children:"Home"},"/"),Object(l.jsx)(E.a.Item,{children:"Profile"},"/profile"),Object(l.jsx)(E.a.Item,{children:"Upload File"},"/uploadfile"),Object(l.jsx)(E.a.Item,{children:Object(l.jsx)(w.a,{type:"primary",block:!0,children:"Logout"})},"/logout")]})},H=function(e){var t=e.isLoggedIn;return console.log(t?"login success":"login false"),Object(l.jsx)(o.a,{children:Object(l.jsx)(u.c,{children:!0===t?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(D,{}),Object(l.jsx)(u.a,{exact:!0,path:"/",children:Object(l.jsx)(A,{})}),Object(l.jsx)(u.a,{exact:!0,path:"/profile",children:Object(l.jsx)(f,{})}),Object(l.jsx)(u.a,{exact:!0,path:"/editprofile",children:Object(l.jsx)(j,{})}),Object(l.jsx)(u.a,{exact:!0,path:"/uploadfile",children:Object(l.jsx)(y,{isLoggedIn:t})})]}):Object(l.jsx)(u.a,{exact:!0,path:"/",children:Object(l.jsx)(R,{})})})})};var z=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),r=Object(i.a)(s,2),o=r[0],u=r[1];return Object(c.useEffect)((function(){p.onAuthStateChanged((function(e){u(!!e),a(!0)}))}),[]),Object(l.jsxs)(l.Fragment,{children:[n?Object(l.jsx)(H,{isLoggedIn:o}):"Initializing....",Object(l.jsxs)("footer",{className:"text-center",children:["\xa9 ",(new Date).getFullYear()," Nwitter"]})]})};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(z,{})}),document.getElementById("root"))}},[[217,1,2]]]);
//# sourceMappingURL=main.1a0205f3.chunk.js.map
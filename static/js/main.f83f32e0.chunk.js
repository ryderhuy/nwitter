(this.webpackJsonpnwitter=this.webpackJsonpnwitter||[]).push([[0],{244:function(e,t,n){},248:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(34),i=n.n(s),r=n(30),l=n(124),o=n(27),u=n(8);var d=function(){return Object(u.jsx)("span",{children:"EditProfile"})},j=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("span",{children:"Profile"})})},b=n(83),O=n(257),h=n(155),m=n(252),f=n(256),p=n(93),x=n(44),g=n(251),v=n(84);n(166),n(249),n(168);v.a.initializeApp({apiKey:"AIzaSyBipiTv1lThCOYOoscLLMDRR6Cnz8RqmzA",authDomain:"nwiter-cd17d.firebaseapp.com",databaseURL:"https://nwiter-cd17d-default-rtdb.firebaseio.com",projectId:"nwiter-cd17d",storageBucket:"nwiter-cd17d.appspot.com",messagingSenderId:"257800727565",appId:"1:257800727565:web:9b231f4d84debda88eb944"});var w=v.a.database(),I=v.a.storage(),S=v.a,y=v.a.auth(),N=n(253),F=function(){var e=Object(a.useState)(null),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),i=Object(r.a)(s,2),l=i[0],o=i[1],d=Object(a.useState)("WP/"),j=Object(r.a)(d,2),v=j[0],F=j[1],k=Object(a.useState)(""),C=Object(r.a)(k,2),U=C[0],P=C[1],L={beforeUpload:function(e){return e.name.includes(".hwp")||h.b.error("".concat(e.name," is not a hwp file")),!!e.name.includes(".hwp")||m.a.LIST_IGNORE},onChange:function(e){c(e.fileList[0].originFileObj)}},A=function(e,t,n,a,c,s,i){S.database().ref("wpdb/ListPending/"+e+"/"+t).set({FileDestName:n,FileSrc:a,FileSrcName:c,HtmlResult:s,Status:i,InsertTime:Object(N.a)(new Date,"yyyy/MM/dd kk:mm:ss")})},D=Object(a.useState)(),R=Object(r.a)(D,2),T=R[0],E=R[1],M=Object(a.useState)(""),z=Object(r.a)(M,2),W=z[0],G=z[1];Object(a.useEffect)((function(){w.ref("wpdb/ListPending/"+y.currentUser.uid).on("value",(function(e){var t=e.val();null!=t&&E(Object.values(t))}))}),[]);var H=[{title:"FileSrcName",dataIndex:"FileDestName",key:"FileSrcName",render:function(e,t){return Object(u.jsx)("span",{children:t.FileSrcName})}},{title:"FileDestName",dataIndex:"FileDestName",key:"FileDestName",render:function(e,t){return Object(u.jsx)("span",{children:t.FileDestName})}},{title:"IsComplete",dataIndex:"IsComplete",key:"IsComplete",render:function(e,t){return Object(u.jsx)("span",{children:t.IsComplete?"Completed":"Running"})}},{title:"Action",key:"action",render:function(e,t){return Object(u.jsx)(f.b,{size:"middle",children:Object(u.jsx)("a",{onClick:function(){return function(e){G(e.HtmlResult)}(t)},children:"Show HTML Result"})})}}],_=p.a.Option,q=[];return w.ref("wpdb/standard").on("value",(function(e){var t=e.val();if(null!=t)for(var n=Object.values(t),a=0;a<n.length;a++)q.push(Object(u.jsx)(_,{value:n[a].FileName,children:n[a].FileName}))})),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"upload-page",children:[Object(u.jsxs)("div",{className:"upload-area",children:[Object(u.jsx)(m.a,Object(b.a)(Object(b.a)({},L),{},{maxCount:1,children:Object(u.jsx)(x.a,{icon:Object(u.jsx)(O.a,{}),children:"Upload hwp only"})})),Object(u.jsx)(x.a,{onClick:function(){if(""===U)o("Please choose standard file!");else{F("WP/");var e=I.ref(v+n.name).put(n);o("Uploading...."),e.on("state_changed",(function(e){}),(function(e){console.log(e),o(e.message)}),(function(){I.ref(v).child(n.name).getDownloadURL().then((function(e){o("Upload successfull!!!");var t=w.ref().push().key;A(y.currentUser.uid,t,U,e,n.name,"<b>File is processing</b>","Pending")}))}))}},children:"Upload"}),Object(u.jsx)(p.a,{showSearch:!0,className:"select-file",placeholder:"Choose standard file",onChange:function(e){P(e)},children:q}),Object(u.jsx)("span",{children:l})]}),Object(u.jsx)(g.a,{columns:H,dataSource:T}),Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:W}})]})})},k=n(95),C=n.n(k),U=n(127),P=n(258),L=n(259),A=n(260),D=n(261),R=n(254),T=n(255),E=(n(143),n(244),function(){var e=Object(a.useState)(""),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),i=Object(r.a)(s,2),l=i[0],o=i[1],d=Object(a.useState)(!0),j=Object(r.a)(d,2),b=j[0],O=j[1],h=Object(a.useState)(""),m=Object(r.a)(h,2),f=m[0],p=m[1],g=function(e){var t=e.target,n=t.name,a=t.value;"email"===n?c(a):"password"===n&&o(a)},v=function(){var e=Object(U.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!b){e.next=7;break}return e.next=4,y.signInWithEmailAndPassword(n,l);case 4:a=e.sent,e.next=10;break;case 7:return e.next=9,y.createUserWithEmailAndPassword(n,l);case 9:a=e.sent;case 10:console.log(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),p(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(U.a)(C.a.mark((function e(t){var n,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===t?n=new S.auth.GoogleAuthProvider:"github"===t&&(n=new S.auth.GithubAuthProvider),e.next=3,y.signInWithPopup(n);case 3:a=e.sent,console.log(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("div",{className:"login-form",children:[Object(u.jsxs)(R.a,{onFinish:v,children:[Object(u.jsx)(R.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}],children:Object(u.jsx)(T.a,{name:"email",prefix:Object(u.jsx)(P.a,{className:"site-form-item-icon"}),placeholder:"Email",value:n,onChange:g})}),Object(u.jsx)(R.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(u.jsx)(T.a,{name:"password",prefix:Object(u.jsx)(L.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password",value:l,onChange:g})}),Object(u.jsxs)(R.a.Item,{children:[Object(u.jsx)(x.a,{type:"primary",htmlType:"submit",className:"login-form-button",children:!1===b?"Create new account":"Log In"}),Object(u.jsx)("a",{onClick:function(){return O((function(e){return!e}))},className:"sign-up-link",children:b?"Sign up here":"Sign in here"})]})]}),Object(u.jsx)("span",{className:"text-error",children:f}),Object(u.jsx)("span",{children:"Or sign in with"}),Object(u.jsxs)("div",{className:"login-social",children:[Object(u.jsx)(x.a,{icon:Object(u.jsx)(A.a,{}),name:"google",onClick:function(){return w("google")},type:"primary",danger:!0,children:"Google"}),Object(u.jsx)(x.a,{icon:Object(u.jsx)(D.a,{}),name:"github",onClick:function(){return w("github")},children:"Github"})]})]})}),M=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("span",{children:"Home"})})},z=n(72),W=function(){var e=Object(o.f)(),t=function(){y.signOut().then((function(){e.push("/")})).catch((function(e){console.log(e)}))},n=Object(a.useState)(!1),c=Object(r.a)(n,2),s=c[0],i=c[1];return Object(a.useEffect)((function(){w.ref("wpdb/UserRole").on("value",(function(e){var t=e.val();null!=t&&Object.values(t).map((function(e,t){y.currentUser.email===e&&i(!0)}))}))}),[]),Object(u.jsxs)(z.a,{onClick:function(n){"/logout"===n.key?t():e.push(n.key)},className:"menu",defaultSelectedKeys:["/"],mode:"inline",children:[Object(u.jsx)(z.a.Item,{children:"Home"},"/"),Object(u.jsx)(z.a.Item,{children:"Profile"},"/profile"),Object(u.jsx)(z.a.Item,{children:"Upload File"},"/uploadfile"),s?Object(u.jsx)(z.a.Item,{children:"Upload File Standard"},"/uploadfilestandard"):null,Object(u.jsx)(z.a.Item,{children:Object(u.jsx)(x.a,{type:"primary",block:!0,children:"Logout"})},"/logout")]})},G=function(){var e=Object(a.useState)(null),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(""),i=Object(r.a)(s,2),l=i[0],o=i[1],d={beforeUpload:function(e){return e.name.includes(".hwp")||h.b.error("".concat(e.name," is not a hwp file")),!!e.name.includes(".hwp")||m.a.LIST_IGNORE},onChange:function(e){c(e.fileList[0].originFileObj)}},j=function(e,t,n,a){S.database().ref("wpdb/standard/"+e).set({FileSrc:t,FileName:n,InsertTime:Object(N.a)(new Date,"yyyy/MM/dd kk:mm:ss"),IsActive:a})},p=Object(a.useState)(),v=Object(r.a)(p,2),y=v[0],F=v[1];Object(a.useEffect)((function(){w.ref("wpdb").on("value",(function(e){var t=e.val();null!=t&&F(Object.values(t.standard))}))}),[]);var k=[{title:"FileName",dataIndex:"FileName",key:"FileName",render:function(e,t){return Object(u.jsx)("span",{children:t.FileName})}},{title:"InsertTime",dataIndex:"InsertTime",key:"InsertTime",render:function(e,t){return Object(u.jsx)("span",{children:t.InsertTime})}},{title:"IsActive",dataIndex:"IsActive",key:"IsActive",render:function(e,t){return Object(u.jsx)("span",{children:t.IsActive?"Active":"In Active"})}},{title:"Action",key:"action",render:function(e,t){return Object(u.jsx)(f.b,{size:"middle",children:Object(u.jsx)("a",{children:"Edit"})})}}];return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"upload-page",children:[Object(u.jsxs)("div",{className:"upload-area",children:[Object(u.jsx)(m.a,Object(b.a)(Object(b.a)({},d),{},{maxCount:1,children:Object(u.jsx)(x.a,{icon:Object(u.jsx)(O.a,{}),children:"Upload hwp only"})})),Object(u.jsx)(x.a,{onClick:function(){var e=I.ref("WP/StandardFile/"+n.name).put(n);o("Uploading...."),e.on("state_changed",(function(e){}),(function(e){console.log(e),o(e.message)}),(function(){I.ref("WP/StandardFile/").child(n.name).getDownloadURL().then((function(e){o("Upload successfull!!!");var t=w.ref().push().key;j(t,e,n.name,!0)}))}))},children:"Upload"}),Object(u.jsx)("span",{children:l})]}),Object(u.jsx)(g.a,{columns:k,dataSource:y})]})})},H=function(e){var t=e.isLoggedIn;return console.log(t?"login success":"login false"),Object(u.jsx)(l.a,{children:Object(u.jsx)(o.c,{children:!0===t?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"banner"}),Object(u.jsx)(W,{}),Object(u.jsx)(o.a,{exact:!0,path:"/",children:Object(u.jsx)(M,{})}),Object(u.jsx)(o.a,{exact:!0,path:"/profile",children:Object(u.jsx)(j,{})}),Object(u.jsx)(o.a,{exact:!0,path:"/editprofile",children:Object(u.jsx)(d,{})}),Object(u.jsx)(o.a,{exact:!0,path:"/uploadfile",children:Object(u.jsx)(F,{isLoggedIn:t})}),Object(u.jsx)(o.a,{exact:!0,path:"/uploadfilestandard",children:Object(u.jsx)(G,{})})]}):Object(u.jsx)(o.a,{exact:!0,path:"/",children:Object(u.jsx)(E,{})})})})};var _=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),i=Object(r.a)(s,2),l=i[0],o=i[1];return Object(a.useEffect)((function(){y.onAuthStateChanged((function(e){o(!!e),c(!0)}))}),[]),Object(u.jsxs)(u.Fragment,{children:[n?Object(u.jsx)(H,{isLoggedIn:l}):"Initializing....",Object(u.jsxs)("footer",{className:"text-center",children:["\xa9 ",(new Date).getFullYear()," Nwitter"]})]})};i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(_,{})}),document.getElementById("root"))}},[[248,1,2]]]);
//# sourceMappingURL=main.f83f32e0.chunk.js.map